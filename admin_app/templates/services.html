{% extends 'base.html' %}
{% block title %}Services{% endblock %}
{% block content %}
<h2>Services</h2>
<form method="post">
  {{ form.hidden_tag() }}
  <p>{{ form.name.label }} {{ form.name() }}</p>
  <p>{{ form.price.label }} {{ form.price() }}</p>
  <p>{{ form.category.label }} {{ form.category() }}</p>
  <p>{{ form.unit.label }} {{ form.unit() }}</p>
  <p>{{ form.submit() }}</p>
</form>
<table>
  <tr><th>ID</th><th>Name</th><th>Price</th><th>Category</th><th>Unit</th><th>Actions</th></tr>
  {% for service in services %}
  <tr>
    <td>{{ service.id }}</td>
    <td>{{ service.name }}</td>
    <td>{{ service.price }}</td>
    <td>{{ service.category.name if service.category else '' }}</td>
    <td>{{ service.unit.abbreviation if service.unit else '' }}</td>
    <td>
      <a href="{{ url_for('admin.edit_service', service_id=service.id) }}">edit</a>
      <a href="{{ url_for('admin.delete_service', service_id=service.id) }}">delete</a>
    </td>
  </tr>
  {% endfor %}
</table>
<p>
  <a href="{{ url_for('admin.export_services') }}">Export CSV</a>
</p>
<form action="{{ url_for('admin.import_services') }}" method="post" enctype="multipart/form-data">
  <p><input type="file" name="file"></p>
  <p><input type="submit" value="Import CSV"></p>
</form>
{% endblock %}
